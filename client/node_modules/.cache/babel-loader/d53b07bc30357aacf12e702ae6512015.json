{"ast":null,"code":"import _slicedToArray from\"/Users/richard/Documents/GitHub/time_sapsule/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/richard/Documents/GitHub/time_sapsule/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import React,{useState}from\"react\";import{useSelector}from\"react-redux\";import styled from\"styled-components\";import{selectTokens}from\"../state/tokenSlice\";import Input from\"./Input\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledTokenSelector=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: \",\";\\n\"])),function(props){return props.show?\"flex\":\"none\";});var Container=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  position: fixed;\\n  top: \",\";\\n  left: \",\";\\n  width: 25rem;\\n  padding: 1.7rem;\\n  border-radius: 1rem;\\n  background-color: var(--bg);\\n  color: var(--main);\\n  font-size: 1.5rem;\\n  z-index: 1;\\n\"])),function(props){return\"calc(\".concat(props.top,\"px - 1px)\");},function(props){return\"calc(\".concat(props.left,\"px - 1px)\");});var ExitEvent=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background-color: rgba(0, 0, 0, 0.2);\\n  z-index: 1;\\n\"])));var Tokens=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  margin-top: 2rem;\\n  display: flex;\\n  flex-direction: column;\\n  z-index: 2;\\n\"])));var TokenContainer=styled.button(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  display: flex;\\n  width: 100%;\\n  align-items: center;\\n  padding: 0.8rem;\\n  cursor: pointer;\\n  transition: all 0.2s;\\n  border-radius: 0.8rem;\\n\\n  :hover {\\n    background-color: var(--primary-light);\\n  }\\n\"])));var Image=styled.img(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  width: 2.4rem;\\n  margin-right: 2rem;\\n  background-color: var(--bg);\\n  border-radius: 50%;\\n\"])));var Name=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  color: var(--main);\\n  font-size: 1.4rem;\\n  font-weight: 500;\\n  margin-right: 1rem;\\n\"])));var TokenSelector=function TokenSelector(props){var tokens=useSelector(selectTokens);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];return/*#__PURE__*/_jsxs(StyledTokenSelector,{show:props.open,children:[/*#__PURE__*/_jsx(ExitEvent,{onClick:function onClick(){return props.setToken(props.token);}}),/*#__PURE__*/_jsxs(Container,{top:props.parent?props.parent.getBoundingClientRect().top:0,left:props.parent?props.parent.getBoundingClientRect().left:0,children:[/*#__PURE__*/_jsx(Input,{placeholder:\"Search name\",value:search,setValue:function setValue(value){return setSearch(value);}}),/*#__PURE__*/_jsx(Tokens,{children:tokens.filter(function(token){if(!search)return true;return token.name.substring(0,search.length).toLowerCase()===search.toLowerCase();}).slice(0,10).map(function(token){return/*#__PURE__*/_jsxs(TokenContainer,{onClick:function onClick(){return props.setToken(token);},children:[/*#__PURE__*/_jsx(Image,{src:token.logoURI,alt:\"\".concat(props.token.symbol,\" Token Image\")}),/*#__PURE__*/_jsx(Name,{children:token.name})]},token.address);})})]})]});};export default TokenSelector;","map":{"version":3,"sources":["/Users/richard/Documents/GitHub/time_sapsule/client/src/components/TokenSelector.tsx"],"names":["React","useState","useSelector","styled","selectTokens","Input","StyledTokenSelector","div","props","show","Container","top","left","ExitEvent","Tokens","TokenContainer","button","Image","img","Name","TokenSelector","tokens","search","setSearch","open","setToken","token","parent","getBoundingClientRect","value","filter","name","substring","length","toLowerCase","slice","map","logoURI","symbol","address"],"mappings":"8dAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,YAAT,KAA6B,qBAA7B,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,C,wFAOA,GAAMC,CAAAA,mBAAmB,CAAGH,MAAM,CAACI,GAAV,oFACZ,SAACC,KAAD,QAA0BA,CAAAA,KAAK,CAACC,IAAN,CAAa,MAAb,CAAsB,MAAhD,EADY,CAAzB,CASA,GAAMC,CAAAA,SAAS,CAAGP,MAAM,CAACI,GAAV,6QAEN,SAACC,KAAD,uBAAmCA,KAAK,CAACG,GAAzC,eAFM,CAGL,SAACH,KAAD,uBAAmCA,KAAK,CAACI,IAAzC,eAHK,CAAf,CAaA,GAAMC,CAAAA,SAAS,CAAGV,MAAM,CAACI,GAAV,yMAAf,CAUA,GAAMO,CAAAA,MAAM,CAAGX,MAAM,CAACI,GAAV,sJAAZ,CAOA,GAAMQ,CAAAA,cAAc,CAAGZ,MAAM,CAACa,MAAV,0RAApB,CAcA,GAAMC,CAAAA,KAAK,CAAGd,MAAM,CAACe,GAAV,qKAAX,CAOA,GAAMC,CAAAA,IAAI,CAAGhB,MAAM,CAACI,GAAV,8JAAV,CAcA,GAAMa,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACZ,KAAD,CAA+B,CACnD,GAAMa,CAAAA,MAAM,CAAGnB,WAAW,CAACE,YAAD,CAA1B,CADmD,cAEvBH,QAAQ,CAAC,EAAD,CAFe,wCAE5CqB,MAF4C,eAEpCC,SAFoC,eAInD,mBACE,MAAC,mBAAD,EAAqB,IAAI,CAAEf,KAAK,CAACgB,IAAjC,wBACE,KAAC,SAAD,EAAW,OAAO,CAAE,yBAAMhB,CAAAA,KAAK,CAACiB,QAAN,CAAejB,KAAK,CAACkB,KAArB,CAAN,EAApB,EADF,cAEE,MAAC,SAAD,EACE,GAAG,CAAElB,KAAK,CAACmB,MAAN,CAAenB,KAAK,CAACmB,MAAN,CAAaC,qBAAb,GAAqCjB,GAApD,CAA0D,CADjE,CAEE,IAAI,CAAEH,KAAK,CAACmB,MAAN,CAAenB,KAAK,CAACmB,MAAN,CAAaC,qBAAb,GAAqChB,IAApD,CAA2D,CAFnE,wBAIE,KAAC,KAAD,EACE,WAAW,CAAC,aADd,CAEE,KAAK,CAAEU,MAFT,CAGE,QAAQ,CAAE,kBAACO,KAAD,QAAmBN,CAAAA,SAAS,CAACM,KAAD,CAA5B,EAHZ,EAJF,cASE,KAAC,MAAD,WACGR,MAAM,CACJS,MADF,CACS,SAACJ,KAAD,CAAkB,CACxB,GAAI,CAACJ,MAAL,CAAa,MAAO,KAAP,CACb,MACEI,CAAAA,KAAK,CAACK,IAAN,CAAWC,SAAX,CAAqB,CAArB,CAAwBV,MAAM,CAACW,MAA/B,EAAuCC,WAAvC,KACAZ,MAAM,CAACY,WAAP,EAFF,CAID,CAPF,EAQEC,KARF,CAQQ,CARR,CAQW,EARX,EASEC,GATF,CASM,SAACV,KAAD,qBACH,MAAC,cAAD,EAEE,OAAO,CAAE,yBAAMlB,CAAAA,KAAK,CAACiB,QAAN,CAAeC,KAAf,CAAN,EAFX,wBAIE,KAAC,KAAD,EACE,GAAG,CAAEA,KAAK,CAACW,OADb,CAEE,GAAG,WAAK7B,KAAK,CAACkB,KAAN,CAAYY,MAAjB,gBAFL,EAJF,cAQE,KAAC,IAAD,WAAOZ,KAAK,CAACK,IAAb,EARF,GACOL,KAAK,CAACa,OADb,CADG,EATN,CADH,EATF,GAFF,GADF,CAsCD,CA1CD,CA4CA,cAAenB,CAAAA,aAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport { selectTokens } from \"../state/tokenSlice\";\nimport Input from \"./Input\";\nimport Token from \"../types/Token\";\n\ntype DisplayProps = {\n  show: boolean;\n};\n\nconst StyledTokenSelector = styled.div`\n  display: ${(props: DisplayProps) => (props.show ? \"flex\" : \"none\")};\n`;\n\ntype ContainerProps = {\n  top: number;\n  left: number;\n};\n\nconst Container = styled.div`\n  position: fixed;\n  top: ${(props: ContainerProps) => `calc(${props.top}px - 1px)`};\n  left: ${(props: ContainerProps) => `calc(${props.left}px - 1px)`};\n  width: 25rem;\n  padding: 1.7rem;\n  border-radius: 1rem;\n  background-color: var(--bg);\n  color: var(--main);\n  font-size: 1.5rem;\n  z-index: 1;\n`;\n\nconst ExitEvent = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.2);\n  z-index: 1;\n`;\n\nconst Tokens = styled.div`\n  margin-top: 2rem;\n  display: flex;\n  flex-direction: column;\n  z-index: 2;\n`;\n\nconst TokenContainer = styled.button`\n  display: flex;\n  width: 100%;\n  align-items: center;\n  padding: 0.8rem;\n  cursor: pointer;\n  transition: all 0.2s;\n  border-radius: 0.8rem;\n\n  :hover {\n    background-color: var(--primary-light);\n  }\n`;\n\nconst Image = styled.img`\n  width: 2.4rem;\n  margin-right: 2rem;\n  background-color: var(--bg);\n  border-radius: 50%;\n`;\n\nconst Name = styled.div`\n  color: var(--main);\n  font-size: 1.4rem;\n  font-weight: 500;\n  margin-right: 1rem;\n`;\n\ntype Props = {\n  open: boolean;\n  token: Token;\n  setToken: (token: Token) => void;\n  parent: HTMLDivElement | null;\n};\n\nconst TokenSelector = (props: Props): JSX.Element => {\n  const tokens = useSelector(selectTokens);\n  const [search, setSearch] = useState(\"\");\n\n  return (\n    <StyledTokenSelector show={props.open}>\n      <ExitEvent onClick={() => props.setToken(props.token)} />\n      <Container\n        top={props.parent ? props.parent.getBoundingClientRect().top : 0}\n        left={props.parent ? props.parent.getBoundingClientRect().left : 0}\n      >\n        <Input\n          placeholder=\"Search name\"\n          value={search}\n          setValue={(value: string) => setSearch(value)}\n        />\n        <Tokens>\n          {tokens\n            .filter((token: Token) => {\n              if (!search) return true;\n              return (\n                token.name.substring(0, search.length).toLowerCase() ===\n                search.toLowerCase()\n              );\n            })\n            .slice(0, 10)\n            .map((token: Token) => (\n              <TokenContainer\n                key={token.address}\n                onClick={() => props.setToken(token)}\n              >\n                <Image\n                  src={token.logoURI}\n                  alt={`${props.token.symbol} Token Image`}\n                />\n                <Name>{token.name}</Name>\n              </TokenContainer>\n            ))}\n        </Tokens>\n      </Container>\n    </StyledTokenSelector>\n  );\n};\n\nexport default TokenSelector;\n"]},"metadata":{},"sourceType":"module"}