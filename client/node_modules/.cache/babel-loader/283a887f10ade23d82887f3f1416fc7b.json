{"ast":null,"code":"import _regeneratorRuntime from\"/Users/richard/Documents/time-vault/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/richard/Documents/time-vault/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/richard/Documents/time-vault/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/richard/Documents/time-vault/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useEffect,useState}from\"react\";import styled from\"styled-components\";import{getSentCapsules}from\"../services/contracthelper\";import Capsules from\"./Capsules\";import Loading from\"./Loading\";import NoCapsules from\"./NoCapsules\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledSentPage=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  min-height: 77vh;\\n\"])));var SentPage=function SentPage(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),capsules=_useState4[0],setCapsules=_useState4[1];var _updateCapsules=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _capsules;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getSentCapsules();case 2:_capsules=_context.sent;setCapsules(_capsules);setLoading(false);case 5:case\"end\":return _context.stop();}}},_callee);}));return function updateCapsules(){return _ref.apply(this,arguments);};}();useEffect(function(){_updateCapsules();window.ethereum.on(\"chainChanged\",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _updateCapsules();case 2:case\"end\":return _context2.stop();}}},_callee2);})));},[]);return/*#__PURE__*/_jsxs(StyledSentPage,{children:[loading&&/*#__PURE__*/_jsx(Loading,{}),!loading&&capsules.length===0&&/*#__PURE__*/_jsx(NoCapsules,{updateCapsules:function updateCapsules(){return _updateCapsules();}}),/*#__PURE__*/_jsx(Capsules,{capsules:capsules})]});};export default SentPage;","map":{"version":3,"sources":["/Users/richard/Documents/time-vault/client/src/components/SentPage.tsx"],"names":["React","useEffect","useState","styled","getSentCapsules","Capsules","Loading","NoCapsules","StyledSentPage","div","SentPage","loading","setLoading","capsules","setCapsules","updateCapsules","_capsules","window","ethereum","on","length"],"mappings":"qqBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,eAAT,KAAgC,4BAAhC,CAEA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,C,wFAEA,GAAMC,CAAAA,cAAc,CAAGL,MAAM,CAACM,GAAV,yMAApB,CASA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAmB,eACJR,QAAQ,CAAC,IAAD,CADJ,wCAC3BS,OAD2B,eAClBC,UADkB,8BAEFV,QAAQ,CAAgB,EAAhB,CAFN,yCAE3BW,QAF2B,eAEjBC,WAFiB,eAIlC,GAAMC,CAAAA,eAAc,0FAAG,uKACGX,CAAAA,eAAe,EADlB,QACfY,SADe,eAErBF,WAAW,CAACE,SAAD,CAAX,CACAJ,UAAU,CAAC,KAAD,CAAV,CAHqB,sDAAH,kBAAdG,CAAAA,cAAc,0CAApB,CAMAd,SAAS,CAAC,UAAM,CACdc,eAAc,GAEbE,MAAD,CAAgBC,QAAhB,CAAyBC,EAAzB,CAA4B,cAA5B,sEAA4C,+JACpCJ,CAAAA,eAAc,EADsB,yDAA5C,IAGD,CANQ,CAMN,EANM,CAAT,CAQA,mBACE,MAAC,cAAD,YACGJ,OAAO,eAAI,KAAC,OAAD,IADd,CAEG,CAACA,OAAD,EAAYE,QAAQ,CAACO,MAAT,GAAoB,CAAhC,eACC,KAAC,UAAD,EAAY,cAAc,CAAE,gCAAML,CAAAA,eAAc,EAApB,EAA5B,EAHJ,cAKE,KAAC,QAAD,EAAU,QAAQ,CAAEF,QAApB,EALF,GADF,CASD,CA3BD,CA6BA,cAAeH,CAAAA,QAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { getSentCapsules } from \"../services/contracthelper\";\nimport CapsuleType from \"../types/CapsuleType\";\nimport Capsules from \"./Capsules\";\nimport Loading from \"./Loading\";\nimport NoCapsules from \"./NoCapsules\";\n\nconst StyledSentPage = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  min-height: 77vh;\n`;\n\nconst SentPage = (): JSX.Element => {\n  const [loading, setLoading] = useState(true);\n  const [capsules, setCapsules] = useState<CapsuleType[]>([]);\n\n  const updateCapsules = async () => {\n    const _capsules = await getSentCapsules();\n    setCapsules(_capsules);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    updateCapsules();\n\n    (window as any).ethereum.on(\"chainChanged\", async () => {\n      await updateCapsules();\n    });\n  }, []);\n\n  return (\n    <StyledSentPage>\n      {loading && <Loading />}\n      {!loading && capsules.length === 0 && (\n        <NoCapsules updateCapsules={() => updateCapsules()} />\n      )}\n      <Capsules capsules={capsules} />\n    </StyledSentPage>\n  );\n};\n\nexport default SentPage;\n"]},"metadata":{},"sourceType":"module"}