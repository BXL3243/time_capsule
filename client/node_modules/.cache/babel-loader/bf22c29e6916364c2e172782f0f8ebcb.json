{"ast":null,"code":"var _jsxFileName = \"/Users/richard/Documents/time-vault/client/src/components/CapsulePage.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router\";\nimport styled from \"styled-components\";\nimport { getAddress, getCapsule } from \"../services/contracthelper\";\nimport { setAddress } from \"../state/userSlice\";\nimport noise from \"../assets/noise.png\";\nimport Loading from \"./Loading\";\nimport CapsuleOverview from \"./CapsuleOverview\";\nimport CapsuleDetails from \"./CapsuleDetails\";\nimport CapsuleAssets from \"./CapsuleAssets\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledCapsulePage = styled.div`\n  position: relative;\n  width: 100%;\n`;\n_c = StyledCapsulePage;\nconst Gradient = styled.div`\n  position: absolute;\n  top: -13rem;\n  left: 0;\n  width: 100%;\n  height: calc(100% + 13rem + 11rem);\n  background: linear-gradient(\n    90deg,\n    var(--bg),\n    var(--sub),\n    var(--bg),\n    var(--bg)\n  );\n  opacity: 0.5;\n`;\n_c2 = Gradient;\nconst Noise = styled.div`\n  position: absolute;\n  top: -13rem;\n  left: 0;\n  width: 100%;\n  height: calc(100% + 13rem + 11rem);\n  background-image: url(${noise});\n  background-size: 5px 5px;\n  opacity: 1;\n`;\n_c3 = Noise;\nconst CapsulePageContent = styled.div`\n  position: relative;\n  width: 100%;\n  display: flex;\n  min-height: 77vh;\n  align-items: center;\n  justify-content: space-evenly;\n\n  @media (max-width: 600px) {\n    flex-direction: column;\n    margin: 6rem 0;\n  }\n`;\n_c4 = CapsulePageContent;\nconst Details = styled.div`\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n`;\n_c5 = Details;\n\nconst CapsulePage = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    capsuleId\n  } = useParams();\n  const [capsule, setCapsule] = useState(null);\n\n  const updateCapsule = async () => {\n    dispatch(setAddress(await getAddress()));\n    setCapsule(await getCapsule(capsuleId));\n  };\n\n  useEffect(() => {\n    updateCapsule();\n    window.ethereum.on(\"chainChanged\", async () => {\n      await updateCapsule();\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(StyledCapsulePage, {\n    children: [/*#__PURE__*/_jsxDEV(Noise, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Gradient, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CapsulePageContent, {\n      children: [!capsule && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 22\n      }, this), capsule && /*#__PURE__*/_jsxDEV(CapsuleOverview, {\n        capsule: capsule,\n        update: () => updateCapsule()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), capsule && /*#__PURE__*/_jsxDEV(Details, {\n        children: [/*#__PURE__*/_jsxDEV(CapsuleDetails, {\n          capsule: capsule,\n          update: () => updateCapsule()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CapsuleAssets, {\n          capsule: capsule,\n          update: () => updateCapsule()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CapsulePage, \"+etQ53TfCZ5YLa8/zNqUSdnCtYs=\", false, function () {\n  return [useDispatch, useParams];\n});\n\n_c6 = CapsulePage;\nexport default CapsulePage;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"StyledCapsulePage\");\n$RefreshReg$(_c2, \"Gradient\");\n$RefreshReg$(_c3, \"Noise\");\n$RefreshReg$(_c4, \"CapsulePageContent\");\n$RefreshReg$(_c5, \"Details\");\n$RefreshReg$(_c6, \"CapsulePage\");","map":{"version":3,"sources":["/Users/richard/Documents/time-vault/client/src/components/CapsulePage.tsx"],"names":["React","useEffect","useState","useDispatch","useParams","styled","getAddress","getCapsule","setAddress","noise","Loading","CapsuleOverview","CapsuleDetails","CapsuleAssets","StyledCapsulePage","div","Gradient","Noise","CapsulePageContent","Details","CapsulePage","dispatch","capsuleId","capsule","setCapsule","updateCapsule","window","ethereum","on"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,SAASC,UAAT,EAAqBC,UAArB,QAAuC,4BAAvC;AACA,SAASC,UAAT,QAA2B,oBAA3B;AAGA,OAAOC,KAAP,MAAkB,qBAAlB;AAEA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;AAEA,MAAMC,iBAAiB,GAAGT,MAAM,CAACU,GAAI;AACrC;AACA;AACA,CAHA;KAAMD,iB;AAKN,MAAME,QAAQ,GAAGX,MAAM,CAACU,GAAI;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAdA;MAAMC,Q;AAgBN,MAAMC,KAAK,GAAGZ,MAAM,CAACU,GAAI;AACzB;AACA;AACA;AACA;AACA;AACA,0BAA0BN,KAAM;AAChC;AACA;AACA,CATA;MAAMQ,K;AAWN,MAAMC,kBAAkB,GAAGb,MAAM,CAACU,GAAI;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAZA;MAAMG,kB;AAcN,MAAMC,OAAO,GAAGd,MAAM,CAACU,GAAI;AAC3B;AACA;AACA;AACA,CAJA;MAAMI,O;;AAMN,MAAMC,WAAW,GAAG,MAAmB;AAAA;;AACrC,QAAMC,QAAQ,GAAGlB,WAAW,EAA5B;AAEA,QAAM;AAAEmB,IAAAA;AAAF,MAAgBlB,SAAS,EAA/B;AACA,QAAM,CAACmB,OAAD,EAAUC,UAAV,IAAwBtB,QAAQ,CAAqB,IAArB,CAAtC;;AAEA,QAAMuB,aAAa,GAAG,YAAY;AAChCJ,IAAAA,QAAQ,CAACb,UAAU,CAAC,MAAMF,UAAU,EAAjB,CAAX,CAAR;AACAkB,IAAAA,UAAU,CAAC,MAAMjB,UAAU,CAACe,SAAD,CAAjB,CAAV;AACD,GAHD;;AAKArB,EAAAA,SAAS,CAAC,MAAM;AACdwB,IAAAA,aAAa;AAEZC,IAAAA,MAAD,CAAgBC,QAAhB,CAAyBC,EAAzB,CAA4B,cAA5B,EAA4C,YAAY;AACtD,YAAMH,aAAa,EAAnB;AACD,KAFD;AAGD,GANQ,EAMN,EANM,CAAT;AAQA,sBACE,QAAC,iBAAD;AAAA,4BACE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE,QAAC,kBAAD;AAAA,iBACG,CAACF,OAAD,iBAAY,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,cADf,EAEGA,OAAO,iBACN,QAAC,eAAD;AAAiB,QAAA,OAAO,EAAEA,OAA1B;AAAmC,QAAA,MAAM,EAAE,MAAME,aAAa;AAA9D;AAAA;AAAA;AAAA;AAAA,cAHJ,EAKGF,OAAO,iBACN,QAAC,OAAD;AAAA,gCACE,QAAC,cAAD;AAAgB,UAAA,OAAO,EAAEA,OAAzB;AAAkC,UAAA,MAAM,EAAE,MAAME,aAAa;AAA7D;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,aAAD;AAAe,UAAA,OAAO,EAAEF,OAAxB;AAAiC,UAAA,MAAM,EAAE,MAAME,aAAa;AAA5D;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAkBD,CArCD;;GAAML,W;UACajB,W,EAEKC,S;;;MAHlBgB,W;AAuCN,eAAeA,WAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router\";\nimport styled from \"styled-components\";\n\nimport { getAddress, getCapsule } from \"../services/contracthelper\";\nimport { setAddress } from \"../state/userSlice\";\nimport CapsuleType from \"../types/CapsuleType\";\n\nimport noise from \"../assets/noise.png\";\n\nimport Loading from \"./Loading\";\nimport CapsuleOverview from \"./CapsuleOverview\";\nimport CapsuleDetails from \"./CapsuleDetails\";\nimport CapsuleAssets from \"./CapsuleAssets\";\n\nconst StyledCapsulePage = styled.div`\n  position: relative;\n  width: 100%;\n`;\n\nconst Gradient = styled.div`\n  position: absolute;\n  top: -13rem;\n  left: 0;\n  width: 100%;\n  height: calc(100% + 13rem + 11rem);\n  background: linear-gradient(\n    90deg,\n    var(--bg),\n    var(--sub),\n    var(--bg),\n    var(--bg)\n  );\n  opacity: 0.5;\n`;\n\nconst Noise = styled.div`\n  position: absolute;\n  top: -13rem;\n  left: 0;\n  width: 100%;\n  height: calc(100% + 13rem + 11rem);\n  background-image: url(${noise});\n  background-size: 5px 5px;\n  opacity: 1;\n`;\n\nconst CapsulePageContent = styled.div`\n  position: relative;\n  width: 100%;\n  display: flex;\n  min-height: 77vh;\n  align-items: center;\n  justify-content: space-evenly;\n\n  @media (max-width: 600px) {\n    flex-direction: column;\n    margin: 6rem 0;\n  }\n`;\n\nconst Details = styled.div`\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n`;\n\nconst CapsulePage = (): JSX.Element => {\n  const dispatch = useDispatch();\n\n  const { capsuleId } = useParams<any>();\n  const [capsule, setCapsule] = useState<CapsuleType | null>(null);\n\n  const updateCapsule = async () => {\n    dispatch(setAddress(await getAddress()));\n    setCapsule(await getCapsule(capsuleId));\n  };\n\n  useEffect(() => {\n    updateCapsule();\n\n    (window as any).ethereum.on(\"chainChanged\", async () => {\n      await updateCapsule();\n    });\n  }, []);\n\n  return (\n    <StyledCapsulePage>\n      <Noise />\n      <Gradient />\n      <CapsulePageContent>\n        {!capsule && <Loading />}\n        {capsule && (\n          <CapsuleOverview capsule={capsule} update={() => updateCapsule()} />\n        )}\n        {capsule && (\n          <Details>\n            <CapsuleDetails capsule={capsule} update={() => updateCapsule()} />\n            <CapsuleAssets capsule={capsule} update={() => updateCapsule()} />\n          </Details>\n        )}\n      </CapsulePageContent>\n    </StyledCapsulePage>\n  );\n};\n\nexport default CapsulePage;\n"]},"metadata":{},"sourceType":"module"}