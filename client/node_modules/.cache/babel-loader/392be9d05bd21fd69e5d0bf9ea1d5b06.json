{"ast":null,"code":"import _regeneratorRuntime from\"/Users/richard/Documents/time-vault/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/richard/Documents/time-vault/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _taggedTemplateLiteral from\"/Users/richard/Documents/time-vault/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useEffect}from\"react\";import{BrowserRouter as Router,Switch,Route}from\"react-router-dom\";import{useDispatch}from\"react-redux\";import styled from\"styled-components\";import ReceivedPage from\"./ReceivedPage\";import SentPage from\"./SentPage\";import HomePage from\"./HomePage\";import{getTokens}from\"../services/tokenService\";import{setTokens}from\"../state/tokenSlice\";import Header from\"./Header\";import Footer from\"./Footer\";import CapsulePage from\"./CapsulePage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledApp=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  min-height: 100vh;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  background-color: var(--bg);\\n  overflow-x: hidden;\\n\"])));var App=function App(){var dispatch=useDispatch();var updateTokens=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var tokens;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getTokens();case 2:tokens=_context.sent;dispatch(setTokens(tokens));case 4:case\"end\":return _context.stop();}}},_callee);}));return function updateTokens(){return _ref.apply(this,arguments);};}();var init=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:updateTokens();window.ethereum.on(\"chainChanged\",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return updateTokens();case 2:case\"end\":return _context2.stop();}}},_callee2);})));case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function init(){return _ref2.apply(this,arguments);};}();useEffect(function(){init();},[]);return/*#__PURE__*/_jsx(StyledApp,{children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/sent\",children:/*#__PURE__*/_jsx(SentPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/received\",children:/*#__PURE__*/_jsx(ReceivedPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/capsule/:capsuleId\",children:/*#__PURE__*/_jsx(CapsulePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",children:/*#__PURE__*/_jsx(HomePage,{})})]}),/*#__PURE__*/_jsx(Footer,{})]})});};export default App;","map":{"version":3,"sources":["/Users/richard/Documents/time-vault/client/src/components/App.tsx"],"names":["React","useEffect","BrowserRouter","Router","Switch","Route","useDispatch","styled","ReceivedPage","SentPage","HomePage","getTokens","setTokens","Header","Footer","CapsulePage","StyledApp","div","App","dispatch","updateTokens","tokens","init","window","ethereum","on"],"mappings":"ogBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,MAAlC,CAA0CC,KAA1C,KAAuD,kBAAvD,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CAEA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,OAASC,SAAT,KAA0B,0BAA1B,CACA,OAASC,SAAT,KAA0B,qBAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAGT,MAAM,CAACU,GAAV,gOAAf,CASA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAmB,CAC7B,GAAMC,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CAEA,GAAMc,CAAAA,YAAY,0FAAG,oKACET,CAAAA,SAAS,EADX,QACbU,MADa,eAEnBF,QAAQ,CAACP,SAAS,CAACS,MAAD,CAAV,CAAR,CAFmB,sDAAH,kBAAZD,CAAAA,YAAY,0CAAlB,CAKA,GAAME,CAAAA,IAAI,2FAAG,wIACXF,YAAY,GAEXG,MAAD,CAAgBC,QAAhB,CAAyBC,EAAzB,CAA4B,cAA5B,sEAA4C,+JACpCL,CAAAA,YAAY,EADwB,yDAA5C,IAHW,wDAAH,kBAAJE,CAAAA,IAAI,2CAAV,CAQArB,SAAS,CAAC,UAAM,CACdqB,IAAI,GACL,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACE,KAAC,SAAD,wBACE,MAAC,MAAD,yBACE,KAAC,MAAD,IADF,cAEE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,uBACE,KAAC,QAAD,IADF,EADF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,uBACE,KAAC,YAAD,IADF,EAJF,cAOE,KAAC,KAAD,EAAO,IAAI,CAAC,qBAAZ,uBACE,KAAC,WAAD,IADF,EAPF,cAUE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,uBACE,KAAC,QAAD,IADF,EAVF,GAFF,cAgBE,KAAC,MAAD,IAhBF,GADF,EADF,CAsBD,CA1CD,CA4CA,cAAeJ,CAAAA,GAAf","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\n\r\nimport ReceivedPage from \"./ReceivedPage\";\r\nimport SentPage from \"./SentPage\";\r\nimport HomePage from \"./HomePage\";\r\nimport { getTokens } from \"../services/tokenService\";\r\nimport { setTokens } from \"../state/tokenSlice\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport CapsulePage from \"./CapsulePage\";\r\n\r\nconst StyledApp = styled.div`\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  background-color: var(--bg);\r\n  overflow-x: hidden;\r\n`;\r\n\r\nconst App = (): JSX.Element => {\r\n  const dispatch = useDispatch();\r\n\r\n  const updateTokens = async () => {\r\n    const tokens = await getTokens();\r\n    dispatch(setTokens(tokens));\r\n  };\r\n\r\n  const init = async () => {\r\n    updateTokens();\r\n\r\n    (window as any).ethereum.on(\"chainChanged\", async () => {\r\n      await updateTokens();\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n\r\n  return (\r\n    <StyledApp>\r\n      <Router>\r\n        <Header />\r\n        <Switch>\r\n          <Route path=\"/sent\">\r\n            <SentPage />\r\n          </Route>\r\n          <Route path=\"/received\">\r\n            <ReceivedPage />\r\n          </Route>\r\n          <Route path=\"/capsule/:capsuleId\">\r\n            <CapsulePage />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <HomePage />\r\n          </Route>\r\n        </Switch>\r\n        <Footer />\r\n      </Router>\r\n    </StyledApp>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}